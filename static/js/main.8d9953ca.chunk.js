(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{11:function(t,e,o){t.exports=o(28)},17:function(t,e,o){},27:function(t,e,o){},28:function(t,e,o){"use strict";o.r(e);var a=o(0),n=o.n(a),s=o(5),i=o.n(s),r=(o(17),o(1)),l=o(6),c=o(7),h=o(9),d=o(8),u=o(10),g=o(2),p=o.n(g),m=(o(27),function(t){function e(t){var o;return Object(l.a)(this,e),(o=Object(h.a)(this,Object(d.a)(e).call(this,t))).state={error:!1,hasMore:!0,isLoading:!1,startPage:1,endPage:1,photos:[]},o}return Object(u.a)(e,t),Object(c.a)(e,[{key:"componentWillMount",value:function(){this.loadPhotosBottom()}},{key:"componentDidMount",value:function(){var t=this;this.refs.myscroll.addEventListener("scroll",function(){t.refs.myscroll.scrollTop+t.refs.myscroll.clientHeight>=t.refs.myscroll.scrollHeight&&!t.state.isLoading&&t.loadPhotosBottom(),!t.refs.myscroll.scrollTop&&t.refs.myscroll.clientHeight<t.refs.myscroll.scrollHeight&&!t.state.isLoading&&t.loadPhotosTop()})}},{key:"loadPhotosBottom",value:function(){var t=this,e=btoa(unescape(encodeURIComponent("4iPxzSjRbGsHBVWMm8nq5KG_ooiYlxvkvfkm:")));this.setState({isLoading:!0},function(){p.a.get("https://gorest.co.in/public-api/photos?page=".concat(t.state.endPage)).set("Authorization","Basic "+e).then(function(e){var o=e.body.result.map(function(t){return{id:t.id,title:t.title,url:t.url}}),a=t.state.photos;a.length>=80&&(a.splice(0,20),t.setState({startPage:t.state.startPage+1})),t.setState({hasMore:t.state.photos.length<100,isLoading:!1,endPage:t.state.endPage+1,photos:[].concat(Object(r.a)(a),Object(r.a)(o))})}).catch(function(e){t.setState({error:e.message,isLoading:!1})})})}},{key:"loadPhotosTop",value:function(){var t=this,e=btoa(unescape(encodeURIComponent("4iPxzSjRbGsHBVWMm8nq5KG_ooiYlxvkvfkm:"))),o=this.state.startPage-1;this.setState({isLoading:!0},function(){p.a.get("https://gorest.co.in/public-api/photos?page=".concat(o)).set("Authorization","Basic "+e).then(function(e){var o=e.body.result.map(function(t){return{id:t.id,title:t.title,url:t.url}}),a=t.state.photos;a.length>=80&&(a.splice(60),t.setState({endPage:t.endPage-1}),console.log("end photos removed; photos.length:",t.state.photos.length)),t.setState({hasMore:t.state.photos.length<100,isLoading:!1,startPage:t.state.startPage-1,photos:[].concat(Object(r.a)(o),Object(r.a)(a))})}).catch(function(e){t.setState({error:e.message,isLoading:!1})})})}},{key:"render",value:function(){var t=this.state,e=t.error,o=t.hasMore,s=t.isLoading,i=t.photos;return n.a.createElement("div",{className:"App",ref:"myscroll",style:{height:"500px",overflow:"auto"}},i.map(function(t){return n.a.createElement(a.Fragment,{key:t.id},n.a.createElement("div",{style:{display:"flex"}},n.a.createElement("img",{alt:t.title,src:t.url,style:{borderRadius:"10px",height:100,margin:20,width:100}}),n.a.createElement("div",{style:{width:200}},n.a.createElement("h5",{style:{marginTop:0}},"Photo No. ",t.id),n.a.createElement("h6",null,"Caption: ",t.title))))}),e&&n.a.createElement("div",{style:{color:"#900"}},e),s&&n.a.createElement("div",null,"Loading..."),!o&&n.a.createElement("div",null,"You did it! You reached the end!"))}}]),e}(a.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(n.a.createElement(m,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(t){t.unregister()})}},[[11,1,2]]]);
//# sourceMappingURL=main.8d9953ca.chunk.js.map