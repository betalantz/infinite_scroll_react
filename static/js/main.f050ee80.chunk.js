(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{11:function(e,t,o){e.exports=o(28)},17:function(e,t,o){},27:function(e,t,o){},28:function(e,t,o){"use strict";o.r(t);var n=o(0),a=o.n(n),r=o(4),i=o.n(r),s=(o(17),o(1)),l=o(5),c=o(6),u=o(9),d=o(7),h=o(10),m=o(8),p=o.n(m),g=(o(27),function(e){function t(e){var o;return Object(l.a)(this,t),(o=Object(u.a)(this,Object(d.a)(t).call(this,e))).state={error:!1,hasMore:!0,isLoading:!1,page:1,photos:[]},o}return Object(h.a)(t,e),Object(c.a)(t,[{key:"componentWillMount",value:function(){this.loadUsers()}},{key:"componentDidMount",value:function(){var e=this;this.refs.myscroll.addEventListener("scroll",function(){e.refs.myscroll.scrollTop+e.refs.myscroll.clientHeight>=e.refs.myscroll.scrollHeight&&!e.state.isLoading&&(e.loadUsers(),console.log("loadUsers() called from event listener in componentDidMount()"))})}},{key:"loadUsers",value:function(){var e=this,t=btoa(unescape(encodeURIComponent("4iPxzSjRbGsHBVWMm8nq5KG_ooiYlxvkvfkm:")));this.setState({isLoading:!0},function(){p.a.get("https://gorest.co.in/public-api/photos?page=".concat(e.state.page)).set("Authorization","Basic "+t).then(function(t){var o=t.body.result.map(function(e){return{id:e.id,title:e.title,url:e.url}});e.setState({hasMore:e.state.photos.length<100,isLoading:!1,page:e.state.page+1,photos:[].concat(Object(s.a)(e.state.photos),Object(s.a)(o))}),console.log("Current page number set when promise resolved from API call:",e.state.page)}).catch(function(t){e.setState({error:t.message,isLoading:!1})})})}},{key:"render",value:function(){console.log("re-render");var e=this.state,t=e.error,o=e.hasMore,r=e.isLoading,i=e.photos;return a.a.createElement("div",{className:"App",ref:"myscroll",style:{height:"500px",overflow:"auto"}},i.map(function(e){return a.a.createElement(n.Fragment,{key:e.id},a.a.createElement("div",{style:{display:"flex"}},a.a.createElement("img",{alt:e.title,src:e.url,style:{borderRadius:"10px",height:100,margin:20,width:100}}),a.a.createElement("div",{style:{width:200}},a.a.createElement("h5",{style:{marginTop:0}},"Photo No. ",e.id),a.a.createElement("h6",null,"Caption: ",e.title))))}),t&&a.a.createElement("div",{style:{color:"#900"}},t),r&&a.a.createElement("div",null,"Loading..."),!o&&a.a.createElement("div",null,"You did it! You reached the end!"))}}]),t}(n.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(a.a.createElement(g,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[11,1,2]]]);
//# sourceMappingURL=main.f050ee80.chunk.js.map